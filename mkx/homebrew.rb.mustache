# vim: set ft=ruby :
class Mkx < Formula
  desc "Make new executable shell script file from template."
  version "{{version}}"
  url "https://github.com/remino/remutils/releases/download/{{tag}}/{{tag}}.tar.gz"
  sha256 "{{sha256}}"
  license "ISC"
  homepage "https://github.com/remino/remutils"
  revision 1

  depends_on "bash"

  livecheck do
    url :stable
    strategy :github_latest
  end

  def install
    bin.install "{{name}}"
    lib.install Dir["lib/*"]
    pkgshare.install "templates"
    man1.install "man/{{name}}.1"
  end

  test do
    out = shell_output("#{bin}/{{name}} -v")
    assert_match version.to_s, out
  end
end
